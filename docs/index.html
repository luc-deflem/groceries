<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Grocery List">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="manifest" href="manifest.json">
    <title>Grocery List MVP 0.3</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üõí Grocery Manager</h1>
        </header>
        
        <nav class="tab-navigation">
            <button class="tab-button active" data-tab="shopping" title="Shopping">üõí</button>
            <button class="tab-button" data-tab="pantry" title="Pantry">üè†</button>
            <button class="tab-button" data-tab="products" title="Products">üìã</button>
            <button class="tab-button" data-tab="categories" title="Categories">‚öôÔ∏è</button>
            <button class="tab-button" data-tab="sync" title="Sync">üì±</button>
        </nav>
        
        <main>
            <!-- Shopping List Tab -->
            <div class="tab-content active" id="shopping-tab">
                <div class="add-item-section">
                    <input type="text" id="itemInput" placeholder="Add item..." maxlength="100">
                    <select id="categorySelect">
                        <option value="produce">ü•¨ Produce</option>
                        <option value="dairy">ü•õ Dairy</option>
                        <option value="meat">ü•© Meat</option>
                        <option value="pantry">ü•´ Pantry</option>
                        <option value="frozen">üßä Frozen</option>
                        <option value="bakery">üçû Bakery</option>
                        <option value="other">üì¶ Other</option>
                    </select>
                    <button id="addBtn">Add</button>
                </div>
                
                <div class="list-stats">
                    <span id="itemCount">0 items</span>
                    <button id="clearCompleted">Clear Completed</button>
                </div>
                
                <div class="grocery-list" id="groceryList">
                    <!-- Shopping items will be dynamically added here -->
                </div>
            </div>

            <!-- Pantry Stock Tab -->
            <div class="tab-content" id="pantry-tab">
                <div class="add-standard-item-section">
                    <input type="text" id="standardItemInput" placeholder="Add item..." maxlength="100">
                    <select id="standardCategorySelect">
                        <option value="produce">ü•¨ Produce</option>
                        <option value="dairy">ü•õ Dairy</option>
                        <option value="meat">ü•© Meat</option>
                        <option value="pantry">ü•´ Pantry</option>
                        <option value="frozen">üßä Frozen</option>
                        <option value="bakery">üçû Bakery</option>
                        <option value="other">üì¶ Other</option>
                    </select>
                    <button id="addStandardBtn">Add</button>
                </div>
                
                <div class="pantry-actions">
                    <button id="addAllUnstocked">Add Out-of-Stock to List</button>
                </div>
                
                <div class="standard-list" id="standardList">
                    <!-- Standard items will be dynamically added here -->
                </div>
            </div>

            <!-- Products Tab -->
            <div class="tab-content" id="products-tab">
                <div class="products-search-section">
                    <input type="text" id="productSearchInput" placeholder="Search products..." maxlength="100">
                    <button id="clearSearchBtn">Clear</button>
                </div>
                
                <div class="add-product-section">
                    <input type="text" id="productInput" placeholder="Add new product..." maxlength="100">
                    <select id="productCategorySelect">
                        <!-- Options populated dynamically -->
                    </select>
                    <button id="addProductBtn">Add</button>
                </div>
                
                <div class="products-stats">
                    <span id="productCount">0 products</span>
                    <span id="filteredCount" style="display: none;">0 shown</span>
                </div>
                
                <div class="products-list" id="productsList">
                    <!-- Products will be dynamically added here -->
                </div>
            </div>

            <!-- Categories Management Tab -->
            <div class="tab-content" id="categories-tab">
                <div class="add-category-section">
                    <input type="text" id="categoryInput" placeholder="Add new category..." maxlength="50">
                    <input type="text" id="categoryEmojiInput" placeholder="üè∑Ô∏è" maxlength="10">
                    <button id="addCategoryBtn">Add Category</button>
                </div>
                
                <div class="category-help">
                    <p><strong>Shop Order:</strong> Drag categories to match your store's layout for optimal shopping flow.</p>
                </div>
                
                <div class="categories-list" id="categoriesList">
                    <!-- Categories will be dynamically added here -->
                </div>
            </div>

            <!-- Sync Tab -->
            <div class="tab-content" id="sync-tab">
                <div class="sync-section">
                    <h3>üì± Device Sync</h3>
                    <div class="sync-actions">
                        <button id="exportDataBtn" class="sync-btn">üì§ Export to "grocery-data.json"</button>
                        <button id="importDataBtn" class="sync-btn secondary">üì• Import from "grocery-data.json"</button>
                        <input type="file" id="importFileInput" accept=".json" style="display: none;">
                    </div>
                    <div class="sync-info">
                        <p><small>Export on one device, then import on another to sync your grocery lists and pantry.</small></p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Change Category Modal -->
    <div id="changeCategoryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title">Change Category</span>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <label for="newCategorySelect">Select new category for "<span id="itemNameSpan"></span>":</label>
                <select id="newCategorySelect">
                    <!-- Options will be populated dynamically -->
                </select>
            </div>
            <div class="modal-actions">
                <button class="modal-btn secondary" id="cancelChangeCategory">Cancel</button>
                <button class="modal-btn primary" id="confirmChangeCategory">Change Category</button>
            </div>
        </div>
    </div>

    <!-- Product Edit Modal -->
    <div id="productEditModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title">Edit Product</span>
                <button class="close-modal" id="closeProductModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-field">
                    <label for="editProductName">Product Name:</label>
                    <input type="text" id="editProductName" maxlength="100">
                </div>
                
                <div class="modal-field">
                    <label for="editProductCategory">Category:</label>
                    <select id="editProductCategory">
                        <!-- Options populated dynamically -->
                    </select>
                </div>

                <div class="modal-field">
                    <label>Status Options:</label>
                    <div class="status-checkboxes">
                        <label class="status-checkbox-label">
                            <input type="checkbox" id="editInShopping">
                            <span>üõí Shopping List</span>
                        </label>
                        <label class="status-checkbox-label">
                            <input type="checkbox" id="editInPantry">
                            <span>üè† Pantry</span>
                        </label>
                        <label class="status-checkbox-label">
                            <input type="checkbox" id="editInStock">
                            <span>‚úÖ In Stock</span>
                        </label>
                        <label class="status-checkbox-label">
                            <input type="checkbox" id="editInSeason">
                            <span>üå± In Season</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-btn secondary" id="cancelProductEdit">Cancel</button>
                <button class="modal-btn primary" id="confirmProductEdit">Save Changes</button>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>
